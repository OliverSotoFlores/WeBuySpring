<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Webuy | Promotion Event Manager</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">

    <!-- Google icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="../css/style.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="../css/view-css/coupons.css">
    <link rel="stylesheet" type="text/css" href="../css/global.css">
</head>

<body>
    <header th:insert="headerfooter :: header"> </header>
    <div th:insert="headerfooter :: admin-header"></div>
    <div class="admin-coupons">
        <section id="admin-header">
            <h1>Promotion Event Manager</h1>
            <section class="coupon-actions">
                <form id="promotionEventSearchForm" action="searchPromotionEvent" class="coupon-form">
                    <input id="searchInput" type="text" name="search-bar" class="search-input" placeholder="Search promotion event..." />
                    <button type="submit" class="search-btn">
                        <span class="material-icons">
                            search
                        </span>
                    </button>
                </form>
                <a onclick="showAddModal();"><span class="material-icons md-36 add-btn">add</span></a>
            </section>
        </section>
        <section class="coupons-container">
            <table class="coupons-table table table-striped col-12">
                <thead class="coupons-table-head">
                    <tr>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>Status</th>
                        <th colspan="2">Actions</th>
                    </tr>
                </thead>
                <tbody class="coupons-table-body">
                    <tr th:each="promotionEvents: ${promotionEvents}">
                        <td th:text="${promotionEvents.promotion_event_name}" />
                        <td th:text="${promotionEvents.promotion_event_description}">
                        <td th:text="${promotionEvents.promotion_event_start_date}" />
                        <td th:text="${promotionEvents.promotion_event_end_date}" />
                        <td th:text="${promotionEvents.promotion_event_status}"/>
                        <td>
	                        <span id="p-edit" class="material-icons p-action" onclick="showEditModalPromotion(event)">
	                        	edit
	                        	<input type="hidden" id="element-id" th:value="${promotionEvents.promotion_event_id}"/>
	                        	<input type="hidden" id="element-admin-id" th:value="${promotionEvents.admin_id}"/>
	                        </span>
                        </td>
                        <td><a th:href="@{/deletePromotionEvent/{promotion_id}(promotion_id=${promotionEvents.promotion_event_id})}" onclick="confirm('Are you sure you want to delete this coupon?');"><span id="p-delete" class="material-icons p-action">delete</span></a></td>
                    </tr>
                </tbody>
            </table>
        </section>
        <div id="addModal" class="modal">
            <div class="modal-contents">
                <span class="material-icons close">close</span>
                <h3>Create New Promotion Event</h3>
                <form action="createPromotionEvent">
                    <label for="promotion-event-name">Name</label><br>
                    <input type="text" name="promotion-event-name" placeholder="Type promotion event name here"><br>
                    <label for="promotion-event-description">Description</label><br>
                    <input type="text" name="promotion-event-description" placeholder="Type promotion event description here"><br>
                    <div class="date--container">
                        <label for="promotion-event-start-date">Start date:</label><br>
                        <input type="date" id="promotion-event-start-date" name="promotion-event-start-date" value="2022-01-01">
                    </div>
                    <div class="date--container">
                        <label for="promotion-event-end-date">End date:</label><br>
                        <input type="date" id="promotion-event-end-date" name="promotion-event-end-date" value="2022-01-01">
                    </div>
                    <label for="promotion-event-status">Status</label><br>
                    <select name="promotion-event-status">
                    	<option value="valid" selected>Valid</option>
                    	<option value="expired">Expired</option>
                    	<option value="cancelled">Cancelled</option>
                    </select>
                    <button type="submit"><span class="material-icons">add_circle_outline</span> Create</button>
                </form>
            </div>
        </div>
        <div id="editModal" class="modal">
            <div class="modal-contents">
                <span class="material-icons close">close</span>
                <h3>Edit Promotion Event</h3>
                <form action="updatePromotionEvent">
                	<input type="hidden" id="edit-element-id" name="promotional-event-id"/>
                	<input type="hidden" id="edit-admin-id" name="admin-id"/>
                    <label for="promotion-event-name">Name</label><br>
                    <input type="text" id="promo-name" name="promotion-event-name" placeholder="Type promotion event name here"><br>
                    <label for="promotion-event-description">Description</label><br>
                    <input type="text" id="promo-desc" name="promotion-event-description" placeholder="Type promotion event description here"><br>
                    <div class="date--container">
                        <label for="promotion-event-start-date">Start date:</label><br>
                        <input type="date" id="promo-start-date" name="promotion-event-start-date" value="2022-01-01">
                    </div>
                    <div class="date--container">
                        <label for="promotion-event-end-date">End date:</label><br>
                        <input type="date" id="promo-end-date" name="promotion-event-end-date" value="2022-01-01">
                    </div>
                    <label for="promotion-event-status">Status</label><br>
                    <select id="status-dropdown" name="promotion-event-status">
                    	<option disabled selected>Select Promotion Event's status</option>
                    	<option value="valid">valid</option>
                    	<option value="expired">expired</option>
                    	<option value="cancelled">cancelled</option>
                    </select>
                    <button type="submit"><span class="material-icons">edit</span> Update</button>
                </form>
            </div>
        </div>
        <div id="promotionDataModal" class="modal">
            <div class="modal-contents">
                <span class="material-icons close">close</span>
                <h3>Promotion Event Information</h3>
                <form>
				  <div class="form-group">
				    <label for="promotionEventNameS">Promotion Event Name</label>
				    <input type="text" class="form-control" id="promotionEventNameS" disabled>
				  </div>
				  <div class="form-group">
				    <label for="promotionEventDescS">Promotion Event Description</label>
				    <input type="text" class="form-control" id="promotionEventDescS" disabled>
				  </div>
				  <div class="form-group">
				    <label for="promotionEventStartDateS">Promotion Event Start Date</label>
				    <input type="text" class="form-control" id="promotionEventStartDateS" disabled>
				  </div>
				  <div class="form-group">
				    <label for="promotionEventEndDateS">Promotion Event End Date</label>
				    <input type="text" class="form-control" id="promotionEventEndDateS" disabled>
				  </div>
				  <div class="form-group">
				    <label for="promotionEventStatusS">Promotion Event Status</label>
				    <input type="text" class="form-control" id="promotionEventStatusS" disabled>
				  </div>
				</form>
            </div>
        </div>
        <section id="pagination-wrapper">
            <nav aria-label="...">
                <ul class="pagination">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                    </li>
                    <li class="page-item active">
                        <a class="page-link" href="#">1</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">2</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">3</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                </ul>
            </nav>
        </section>
    </div>
    <footer th:insert="headerfooter :: footer"> </footer>
    <!-- Modals script -->
    <script src="../js/view-js/showModals.js"></script>
    
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    
    <!-- PromotionEvents search function script -->
   
</body>

</html>